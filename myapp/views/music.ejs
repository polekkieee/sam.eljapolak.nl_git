<%- include('partials/header') %>

<section class="page-header bg-light py-4 mb-4">
  <div class="container">
    <h1>My Music</h1>
    <p class="lead">Explore my latest tracks and musical projects.</p>
  </div>
</section>

<section class="tracks-list">
  <div class="container">
    <% if (tracks && tracks.length > 0) { %>
      <div class="row">
        <% tracks.forEach(track => { %>
          <div class="col-md-6 mb-4">
            <div class="card h-100">
              <div class="card-body">
                <h3 class="card-title"><%= track.title %></h3>
                <div class="d-flex justify-content-between mb-3">
                  <span class="badge bg-secondary"><%= track.genre %></span>
                  <small class="text-muted">Released: <%= new Date(track.release_date).toLocaleDateString() %></small>
                </div>
                
                <p class="card-text"><%= track.description %></p>
                
                <% if (track.soundcloud_embed_code) { %>
                  <div class="soundcloud-embed mb-3">
                    <%- track.soundcloud_embed_code %>
                  </div>
                <% } else { %>
                  <a href="<%= track.soundcloud_url %>" class="btn btn-primary" target="_blank">
                    <i class="bi bi-soundcloud"></i> Listen on SoundCloud
                  </a>
                <% } %>
                
                <a href="/music/<%= track.id %>" class="btn btn-outline-dark mt-2">View Details</a>
              </div>
            </div>
          </div>
        <% }); %>
      </div>
    <% } else { %>
      <div class="alert alert-info">
        No tracks available at the moment. Check back soon!
      </div>
    <% } %>
  </div>
</section>

<%- include('partials/footer') %>